global:
    scrape_interval: 15s # Set the scrape interval to every 15 seconds. Default is every 1 minute.
    evaluation_interval: 30s # Evaluate rules every 15 seconds. The default is every 1 minute.


# A scrape configuration containing exactly one endpoint to scrape:
# Here it's Prometheus itself.
scrape_configs:
    -   job_name: 'prometheus'
        scrape_interval: 15s
        static_configs:
            -   targets: [ 'localhost:9090' ]

    -   job_name: 'nginx'
        static_configs:
            -   targets: [ 'nginx-exporter:9113' ]

    -   job_name: 'node'
        static_configs:
            -   targets: [ 'node-exporter:9100' ]

    -   job_name: 'cadvisor'
        static_configs:
            -   targets: [ 'cadvisor:8080' ]

    # To get metrics about the mysql exporterâ€™s targets
    -   job_name: 'mysql'
        metrics_path: /probe
        params:
            # Not required. Will match value to child in config file. Default value is `client`.
            auth_module: [ client ]
        static_configs:
            -   targets:
                    # All mysql hostnames or unix sockets to monitor.
                    - db:3306
        #                    - server2:3306
        #                    - unix:///run/mysqld/mysqld.sock
        relabel_configs:
            -   source_labels: [ __address__ ]
                target_label: __param_target
            -   source_labels: [ __param_target ]
                target_label: instance
            -   target_label: __address__
                # The mysqld-exporter host:port
                replacement: mysqld-exporter:9104

    #    -   job_name: 'legacy_metrics'
    #        metrics_path: /legacy/metrics
    #        static_configs:
    #            -   targets: [ 'nginx:80' ]

    #    -   job_name: 'log_based_metrics'
    #        static_configs:
    #            -   targets: [ 'mtail:3903' ]
